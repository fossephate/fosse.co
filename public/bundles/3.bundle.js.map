{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/ArrowDownward.js","webpack:///./node_modules/@material-ui/icons/ArrowUpward.js","webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./node_modules/@material-ui/icons/PauseCircleFilledTwoTone.js","webpack:///./node_modules/@material-ui/icons/PlayCircleFilledTwoTone.js","webpack:///./src/dj/App.jsx","webpack:///./src/dj/Main.jsx","webpack:///./src/dj/Room.jsx","webpack:///./src/dj/actions/songs.js","webpack:///./src/dj/components/General/Song.jsx","webpack:///./src/dj/components/General/SongList.jsx","webpack:///./src/dj/components/General/SongPreview.jsx","webpack:///./src/dj/components/General/SongSubmitForm.jsx","webpack:///./src/main/DJ.jsx","webpack:///./src/shared/libs/utils.js","webpack:///ws (ignored)"],"names":["styles","root","display","justifyContent","height","device","tablet","laptop","App","Component","constructor","props","socket","state","roomName","open","componentDidMount","close","serverConnection","store","dispatch","updateSettings","theme","render","console","log","classes","mapStateToProps","mapDispatchToProps","compose","withRouter","withStyles","connect","flexDirection","width","maxWidth","maxHeight","margin","textField","formPart","centerText","joinButton","whiteSpace","Main","PureComponent","history","push","emit","data","success","setState","alert","reason","event","target","value","textAlign","handleText","handleJoin","key","handleCreate","handleClose","fontSize","exportButton","marginTop","Room","handleSubmitUsername","bind","handleCreatePlaylist","username","openUsernameDialog","match","params","on","updateSongList","songList","componentWillUnmount","playlist","searchResults","length","dj","songs","updateSongName","songName","type","payload","updateSearchResults","minHeight","albumArt","alignSelf","highlighted","backgroundColor","icon","songUpvotes","upvoteArea","marginRight","songSuggester","removeArea","submitButton","marginLeft","marginBottom","Song","songData","upvoteState","neutralVote","isMobile","window","innerWidth","albumImage","album","images","buttonSize","isResult","url","preview_url","artists","name","handleSubmitSong","votes","i","vote","upvotes","handleUpvote","classNames","handleDownvote","minWidth","flex","handleRemove","gridGap","padding","overflowY","overflowX","noSongs","SongList","handleClick","mapSongs","source","song","position","cursor","pointerEvents","opacity","left","top","SongPreview","playing","audio","pause","currentTime","audioURL","Audio","volume","play","componentDidUpdate","prevProps","imageURL","throttle","func","wait","options","context","args","result","timeout","previous","later","leading","Date","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","searchForSong","self","SongSubmitForm","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","Index","socketio","path","transports","shouldComponentUpdate","nextProps","nextState","sagaMiddleware","getCookie","dc","document","cookie","prefix","begin","indexOf","end","decodeURI","substring","setCookie","seconds","expires","date","setTime","getTime","toUTCString","clamp","n","min","max","Math","round","precision","multiplier","pow","msToTime","duration","milliseconds","parseInt","minutes","hours","substr","time","replaceAll","toggleFullscreen","elem","fullScreenElement","undefined","msFullscreenElement","mozFullScreen","webkitIsFullScreen","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","setToPercentParent","percent","$","parentHeight","parent","newHeight","ms","start","mathZoom","current","accel","abs","normalizeVector","vector","scale","norm","sqrt","x","y","deleteAllCookies","cookies","split","eqPos","fixedLengthString","string","pad","getStickString","num","toFixed","String","padStart","getAverage","array","reduce","a","b","pick","o","e","interpolateColor","color1","color2","factor","slice","interpolateColors","steps","stepFactor","interpolatedColorArray","map","Number","size","mobile","desktop"],"mappings":"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","file":"3.bundle.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"\n}), 'ArrowDownward');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"\n}), 'ArrowUpward');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm-1 12H9V8h2v8zm4 0h-2V8h2v8z\",\n  opacity: \".3\"\n}), _react.default.createElement(\"path\", {\n  d: \"M13 8h2v8h-2zM9 8h2v8H9z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n})), 'PauseCircleFilledTwoTone');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M12 20c4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8 3.59 8 8 8zM10 7.5l6 4.5-6 4.5v-9z\",\n  opacity: \".3\"\n}), _react.default.createElement(\"path\", {\n  d: \"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm0-18c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8zm-2 3.5v9l6-4.5z\"\n})), 'PlayCircleFilledTwoTone');\n\nexports.default = _default;","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, Switch, withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"main/actions/settings.js\";\r\n\r\n// redux-saga:\r\n\r\n// main components:\r\nimport Main from \"./Main.jsx\";\r\nimport Room from \"./Room.jsx\";\r\n\r\n// components:\r\n\r\n// secondary components:\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// libs:\r\n// import localforage from \"localforage\";\r\n// import swal from \"sweetalert2\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n};\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\troomName: \"\",\r\n\t\t\topen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.close();\r\n\t\t\tthis.socket = null;\r\n\t\t}\r\n\t\tthis.socket = this.props.serverConnection;\r\n\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"spotify\" }));\r\n\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering app.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/dj/:roomName\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Room\r\n\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\tstore={this.props.store}\r\n\t\t\t\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\t\t\t\t// sagaMiddleware={this.props.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Main\r\n\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\tstore={this.props.store}\r\n\t\t\t\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\t\t\t\t// sagaMiddleware={this.props.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(App);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"main/actions/settings.js\";\r\n\r\n// redux-saga:\r\n\r\n// main components:\r\n\r\n// components:\r\n\r\n// secondary components:\r\nimport {\r\n\tButton,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from \"@material-ui/core\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\theight: \"100vh\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"600px\",\r\n\t\tmaxHeight: \"700px\",\r\n\t\tmargin: \"auto 0\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {\r\n\t\t\tmaxWidth: \"none\",\r\n\t\t\tmaxHeight: \"none\",\r\n\t\t},\r\n\t},\r\n\r\n\ttextField: {\r\n\t\tmargin: \"0px\",\r\n\t},\r\n\tformPart: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\t// justifyContent: \"space-evenly\",\r\n\t\tjustifyContent: \"center\",\r\n\t\t// width: \"50%\",\r\n\t\theight: \"min-content\",\r\n\t\t// padding: \"0 20%\",\r\n\t\t// margin: \"0 5px\",\r\n\t},\r\n\tcenterText: {\r\n\t\tdisplay: \"flex !important\",\r\n\t\tjustifyContent: \"center !important\",\r\n\t},\r\n\tjoinButton: {\r\n\t\twhiteSpace: \"nowrap\",\r\n\t},\r\n};\r\n\r\nclass Main extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\troomName: \"\",\r\n\t\t\topen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.close();\r\n\t\t\tthis.socket = null;\r\n\t\t}\r\n\t\tthis.socket = this.props.serverConnection;\r\n\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"spotify\" }));\r\n\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"dark\" }));\r\n\t};\r\n\r\n\thandleJoin = () => {\r\n\t\tthis.props.history.push(`/dj/${this.state.roomName}`);\r\n\t};\r\n\r\n\thandleCreate = () => {\r\n\t\tthis.socket.emit(\"createRoom\", null, (data) => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tthis.setState({ open: true, roomName: data.roomName });\r\n\t\t\t} else {\r\n\t\t\t\talert(data.reason);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.props.history.push(`/dj/${this.state.roomName}`);\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\thandleText = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.setState({ roomName: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering main\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<h1 style={{ textAlign: \"center\" }}>Democratic DJ</h1>\r\n\r\n\t\t\t\t<h2 className={classes.centerText}>Join a Room</h2>\r\n\t\t\t\t<div className={classes.formPart}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"outlined-name\"\r\n\t\t\t\t\t\tlabel=\"Room Name\"\r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tvalue={this.state.roomName}\r\n\t\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"10px\" }} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.joinButton}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\tonClick={this.handleJoin}\r\n\t\t\t\t\t\tonKeyPress={(event) => {\r\n\t\t\t\t\t\t\tif (event.key == \"Enter\") {\r\n\t\t\t\t\t\t\t\tthis.handleJoin();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tJoin Room\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 className={classes.centerText}>OR</h2>\r\n\t\t\t\t<div className={classes.formPart}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={this.handleCreate}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate A Room\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Room Created!\"}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t\tA room has been created with the room name {this.state.roomName}\r\n\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\" variant=\"contained\">\r\n\t\t\t\t\t\t\tOK\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Main);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// redux-saga:\r\nimport { updateSongList } from \"dj/actions/songs.js\";\r\n\r\n// main components:\r\n\r\n// components:\r\nimport SongList from \"dj/components/General/SongList.jsx\";\r\nimport SongSubmitForm from \"dj/components/General/SongSubmitForm.jsx\";\r\n\r\n// secondary components:\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// justifyContent: \"space-between\",\r\n\t\tfontSize: \"16px\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"600px\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\r\n\ttextField: {\r\n\t\tmargin: \"0px\",\r\n\t},\r\n\tformPart: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// width: \"50%\",\r\n\t\theight: \"min-content\",\r\n\t},\r\n\texportButton: {\r\n\t\tmarginTop: \"10px\",\r\n\t},\r\n};\r\n\r\nclass Room extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.handleSubmitUsername = this.handleSubmitUsername.bind(this);\r\n\t\tthis.handleText = this.handleText.bind(this);\r\n\t\tthis.handleCreatePlaylist = this.handleCreatePlaylist.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: \"\",\r\n\t\t\troomName: \"\",\r\n\t\t\topenUsernameDialog: true,\r\n\t\t};\r\n\r\n\t\tthis.roomName = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\r\n\t\tthis.socket = this.props.serverConnection;\r\n\r\n\t\tthis.roomName = this.props.match.params.roomName;\r\n\r\n\t\tif (!this.roomName) {\r\n\t\t\tconsole.log(\"room name not set!\");\r\n\t\t}\r\n\r\n\t\tthis.socket.on(\"songList\", (data) => {\r\n\t\t\t// this.songList = data.songList;\r\n\t\t\t// this.setState({ songList: data.songList });\r\n\t\t\tthis.props.updateSongList(data.songList);\r\n\t\t\t// this.props.store.dispatch(updateSongList({ songList: data.songList }));\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \treturn false;\r\n\t// }\r\n\r\n\thandleSubmitUsername() {\r\n\t\tif (this.state.username === \"\") {\r\n\t\t\talert(\"username can't be empty\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.socket.emit(\r\n\t\t\t\"joinRoom\",\r\n\t\t\t{ roomName: this.roomName, username: this.state.username },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.setState({ openUsernameDialog: false });\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\thandleText(event) {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t}\r\n\r\n\thandleCreatePlaylist() {\r\n\t\tthis.socket.emit(\"createPlaylist\", null, (data) => {\r\n\t\t\tif (!data.success) {\r\n\t\t\t\tconsole.log(data.reason);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(data.playlist);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"rendering dj-room.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<SongSubmitForm serverConnection={this.props.serverConnection} />\r\n\t\t\t\t{this.props.searchResults.length > 0 && (\r\n\t\t\t\t\t<SongList\r\n\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\tsource={this.props.searchResults}\r\n\t\t\t\t\t\ttype=\"results\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.props.searchResults.length === 0 && (\r\n\t\t\t\t\t<SongList\r\n\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\tusername={this.state.username}\r\n\t\t\t\t\t\tsource={this.props.songList}\r\n\t\t\t\t\t\ttype=\"songs\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName={classes.exportButton}\r\n\t\t\t\t\tonClick={this.handleCreatePlaylist}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t>\r\n\t\t\t\t\tExport to Spotify\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.openUsernameDialog}\r\n\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Pick a username</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\ttype=\"username\"\r\n\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\t\t\tonKeyPress={(event) => {\r\n\t\t\t\t\t\t\t\tif (event.key == \"Enter\") {\r\n\t\t\t\t\t\t\t\t\tthis.handleSubmitUsername();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.handleSubmitUsername}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongList: state.dj.songs.songList,\r\n\t\tsearchResults: state.dj.songs.searchResults,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongList: (data) => {\r\n\t\t\tdispatch(updateSongList(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Room);\r\n","export const updateSongName = (songName) => {\r\n\treturn {\r\n\t\ttype: \"UPDATE_SONG_NAME\",\r\n\t\tpayload: {\r\n\t\t\tsongName: songName,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updateSongList = (songList) => {\r\n\treturn {\r\n\t\ttype: \"UPDATE_SONG_LIST\",\r\n\t\tpayload: {\r\n\t\t\tsongList: songList,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const updateSearchResults = (searchResults) => {\r\n\treturn {\r\n\t\ttype: \"UPDATE_SEARCH_RESULTS\",\r\n\t\tpayload: {\r\n\t\t\tsearchResults: searchResults,\r\n\t\t},\r\n\t};\r\n};","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport { IconButton, Paper, Button } from \"@material-ui/core\";\r\nimport SongPreview from \"./SongPreview.jsx\";\r\n\r\n// icons:\r\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateSongName, updateSearchResults } from \"dj/actions/songs.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport classNames from \"classnames\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tminHeight: \"75px\",\r\n\t\tfontSize: \"16px\",\r\n\t},\r\n\talbumArt: {\r\n\t\talignSelf: \"center\",\r\n\t\twidth: \"75px\",\r\n\t\theight: \"auto\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tminHeight: \"150px\",\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t\talbumArt: {\r\n\t\t\twidth: \"150px\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\thighlighted: {\r\n\t\tbackgroundColor: \"#FAFAD2AA\",\r\n\t},\r\n\tsongName: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t\"& span:last-child\": {\r\n\t\t\tfontSize: \"0.8em\",\r\n\t\t},\r\n\t},\r\n\ticon: {\r\n\t\t// width: \"70px\",\r\n\t\t// height: \"70px\",\r\n\t},\r\n\tsongUpvotes: {\r\n\t\t// width: \"30px\",\r\n\t\t// textAlign: \"center\",\r\n\t\t// lineHeight: \"48px\",\r\n\t\t// marginLeft: \"10px\",\r\n\t\t// margin: \"auto 0 auto 10px\",\r\n\t\t// marginLeft: \"10px\",\r\n\t\tmargin: \"0 10px\",\r\n\t\talignSelf: \"center\",\r\n\t},\r\n\tupvoteArea: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tmarginRight: \"10px\",\r\n\t},\r\n\tsongSuggester: {\r\n\t\t// marginLeft: \"auto\",\r\n\t\t// marginRight: \"20px\",\r\n\t\tfontSize: \"0.8em\",\r\n\t\t// alignSelf: \"center\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\ttextAlign: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\twhiteSpace: \"nowrap\",\r\n\t},\r\n\tremoveArea: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t},\r\n\tsubmitButton: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"10px\",\r\n\t\tmarginTop: \"auto\",\r\n\t\tmarginBottom: \"auto\",\r\n\t},\r\n});\r\n\r\nclass Song extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.upvoteState = 0;\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// this.setState({ upvoteState: 0 });\r\n\t}\r\n\r\n\thandleSubmitSong = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"submitSong\",\r\n\t\t\t{\r\n\t\t\t\tsongData: this.props.songData,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (!data.success) {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t\tthis.props.updateSongName(\"\");\r\n\t\tthis.props.updateSearchResults([]);\r\n\t};\r\n\r\n\thandleUpvote = () => {\r\n\t\tif (this.upvoteState === 1) {\r\n\t\t\tthis.neutralVote();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"up\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleDownvote = () => {\r\n\t\tif (this.upvoteState === -1) {\r\n\t\t\tthis.neutralVote();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"down\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = -1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\tneutralVote = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"neutral\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleRemove = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"removeSong\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet isMobile = window.innerWidth < 768;\r\n\t\tlet albumImage = this.props.songData.album.images[isMobile ? 2 : 1];\r\n\t\tlet buttonSize = isMobile ? \"small\" : \"medium\";\r\n\r\n\t\tif (this.props.isResult) {\r\n\t\t\treturn (\r\n\t\t\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t\t\t<SongPreview\r\n\t\t\t\t\t\timageURL={albumImage.url}\r\n\t\t\t\t\t\taudioURL={this.props.songData.preview_url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"20px\" }}></div>\r\n\t\t\t\t\t<div className={classes.songName}>\r\n\t\t\t\t\t\t<span>{this.props.songData.songName}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.album.artists[0].name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.submitButton}\r\n\t\t\t\t\t\tonClick={this.handleSubmitSong}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tlet votes = this.props.songData.votes;\r\n\t\t\tfor (let i = 0; i < votes.length; i++) {\r\n\t\t\t\tlet vote = votes[i];\r\n\t\t\t\tif (vote.username === this.props.username) {\r\n\t\t\t\t\tif (vote.type === \"up\") {\r\n\t\t\t\t\t\tthis.upvoteState = 1;\r\n\t\t\t\t\t} else if (vote.type === \"down\") {\r\n\t\t\t\t\t\tthis.upvoteState = -1;\r\n\t\t\t\t\t} else if (vote.type === \"neutral\") {\r\n\t\t\t\t\t\tthis.upvoteState = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t\t\t<div className={classes.songUpvotes}>{this.props.songData.upvotes}</div>\r\n\t\t\t\t\t<div className={classes.upvoteArea}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize={buttonSize}\r\n\t\t\t\t\t\t\tonClick={this.handleUpvote}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\tthis.upvoteState === 1 && classes.highlighted,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tsize={buttonSize}\r\n\t\t\t\t\t\t\tonClick={this.handleDownvote}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\tthis.upvoteState === -1 && classes.highlighted,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<SongPreview\r\n\t\t\t\t\t\timageURL={albumImage.url}\r\n\t\t\t\t\t\taudioURL={this.props.songData.preview_url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"20px\" }}></div>\r\n\r\n\t\t\t\t\t<div className={classes.songName}>\r\n\t\t\t\t\t\t<span>{this.props.songData.songName}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.album.artists[0].name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ minWidth: \"10px\", flex: \"1\" }}></div>\r\n\t\t\t\t\t<div className={classes.songSuggester}>\r\n\t\t\t\t\t\t<span>{\"suggested by: \"}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.username}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ width: \"10px\" }}></div>\r\n\r\n\t\t\t\t\t{this.props.songData.username === this.props.username && (\r\n\t\t\t\t\t\t<div className={classes.removeArea}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleRemove}\r\n\t\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\t\tthis.upvoteState === -1 && classes.highlighted,\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongName: (data) => {\r\n\t\t\tdispatch(updateSongName(data));\r\n\t\t},\r\n\t\tupdateSearchResults: (data) => {\r\n\t\t\tdispatch(updateSearchResults(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Song);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// components:\r\nimport Song from \"./Song.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\n// import swal from \"sweetalert2\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\t// display: \"flex\",\r\n\t\tdisplay: \"grid\",\r\n\t\tflexDirection: \"column\",\r\n\t\tgridGap: \"5px\",\r\n\t\tpadding: \"10px\",\r\n\t\toverflowY: \"auto\",\r\n\t\toverflowX: \"hidden\",\r\n\t},\r\n\tnoSongs: {\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: \"10px\",\r\n\t},\r\n});\r\n\r\nclass SongList extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// this.handleClick = this.handleClick.bind(this);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\thandleClick(event) {}\r\n\r\n\tmapSongs() {\r\n\t\tlet songs = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.source.length; i++) {\r\n\t\t\tlet song = this.props.source[i];\r\n\t\t\tsongs.push(\r\n\t\t\t\t<Song\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\tusername={this.props.username}\r\n\t\t\t\t\tsongData={{ ...song }}\r\n\t\t\t\t\tisResult={this.props.type === \"results\"}\r\n\t\t\t\t/>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (songs.length === 0) {\r\n\t\t\tsongs.push(\r\n\t\t\t\t<div key={0} className={this.props.classes.noSongs}>\r\n\t\t\t\t\t{this.props.type === \"songs\" ? \"No songs submitted yet!\" : \"No Songs Found!\"}\r\n\t\t\t\t</div>,\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn songs;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"songList\" className={classes.root} elevation={4}>\r\n\t\t\t\t{this.mapSongs()}\r\n\t\t\t\t<div style={{ height: \"4px\" }} />\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongList);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// import ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\n// import ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\n// import CloseIcon from \"@material-ui/icons/Close\";\r\n\r\n// components:\r\n// import { IconButton, Paper, Button } from \"@material-ui/core\";\r\n// import MySlider from \"dj/components/General/MySlider.jsx\";\r\n\r\n// icons:\r\n// import PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\n// import PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport PlayCircleFilledTwoToneIcon from \"@material-ui/icons/PlayCircleFilledTwoTone\";\r\n// import PauseIcon from \"@material-ui/icons/Pause\";\r\n// import PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\r\n// import PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\nimport PauseCircleFilledTwoToneIcon from \"@material-ui/icons/PauseCircleFilledTwoTone\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tminHeight: \"75px\",\r\n\t\tfontSize: \"16px\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\talbumArt: {\r\n\t\talignSelf: \"center\",\r\n\t\twidth: \"75px\",\r\n\t\theight: \"auto\",\r\n\t\tcursor: \"pointer\",\r\n\t},\r\n\ticon: {\r\n\t\tpointerEvents: \"none\",\r\n\t\tfontSize: \"50px\",\r\n\t\topacity: 0.7,\r\n\t\tposition: \"absolute\",\r\n\t\t// left: \"calc(50% - 0.5em)\",\r\n\t\t// top: \"calc(50% - 0.5em)\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginLeft: \"-0.5em\",\r\n\t\ttop: \"50%\",\r\n\t\tmarginTop: \"-0.5em\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tminHeight: \"150px\",\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t\talbumArt: {\r\n\t\t\twidth: \"150px\",\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: \"90px\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n});\r\n\r\nclass SongPreview extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tplaying: false,\r\n\t\t};\r\n\r\n\t\tthis.audio = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.audioURL) {\r\n\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\tthis.audio.volume = 0.1;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\t// Typical usage (don't forget to compare props):\r\n\t\tif (this.props.audioURL !== prevProps.audioURL) {\r\n\t\t\tif (prevProps.audioURL) {\r\n\t\t\t\tthis.audio.pause();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.props.audioURL) {\r\n\t\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\t\tthis.audio.volume = 0.1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// this.setState({ upvoteState: 0 });\r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tif (this.state.playing) {\r\n\t\t\tif (this.audio) {\r\n\t\t\t\tthis.audio.pause();\r\n\t\t\t\tthis.audio.currentTime = 0;\r\n\t\t\t}\r\n\t\t\tthis.setState({ playing: false });\r\n\t\t} else {\r\n\t\t\tif (!this.audio && this.props.audioURL) {\r\n\t\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\t\tthis.audio.volume = 0.1;\r\n\t\t\t}\r\n\t\t\tif (this.props.audioURL) {\r\n\t\t\t\tthis.audio.play();\r\n\t\t\t}\r\n\t\t\tthis.setState({ playing: true });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.props.audioURL) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.root} onClick={this.handleClick}>\r\n\t\t\t\t\t<img className={classes.albumArt} src={this.props.imageURL} />\r\n\r\n\t\t\t\t\t{this.state.playing ? (\r\n\t\t\t\t\t\t<PauseCircleFilledTwoToneIcon className={classes.icon} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleFilledTwoToneIcon className={classes.icon} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<img className={classes.albumArt} src={this.props.imageURL} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongPreview);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// components:\r\n// import SearchResults from \"./SearchResults.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, TextField } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateSongName, updateSearchResults } from \"dj/actions/songs.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\n// import swal from \"sweetalert2\";\r\n\r\n// Returns a function, that, when invoked, will only be triggered at most once\r\n// during a given window of time. Normally, the throttled function will run\r\n// as much as it can, without ever going more than once per `wait` duration;\r\n// but if you'd like to disable the execution on the leading edge, pass\r\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\r\nfunction throttle(func, wait, options) {\r\n\tlet context, args, result;\r\n\tlet timeout = null;\r\n\tlet previous = 0;\r\n\tif (!options) {\r\n\t\toptions = {};\r\n\t}\r\n\tlet later = () => {\r\n\t\tprevious = options.leading === false ? 0 : Date.now();\r\n\t\ttimeout = null;\r\n\t\tresult = func.apply(context, args);\r\n\t\tif (!timeout) {\r\n\t\t\tcontext = args = null;\r\n\t\t}\r\n\t};\r\n\treturn function() {\r\n\t\tlet now = Date.now();\r\n\t\tif (!previous && options.leading === false) previous = now;\r\n\t\tlet remaining = wait - (now - previous);\r\n\t\tcontext = this;\r\n\t\targs = arguments;\r\n\t\tif (remaining <= 0 || remaining > wait) {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}\r\n\t\t\tprevious = now;\r\n\t\t\tresult = func.apply(context, args);\r\n\t\t\tif (!timeout) context = args = null;\r\n\t\t} else if (!timeout && options.trailing !== false) {\r\n\t\t\ttimeout = setTimeout(later, remaining);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nlet searchForSong = throttle((self, value) => {\r\n\t// moved to debounce fn bc otherwise it can happen out of order:\r\n\tif (value === \"\") {\r\n\t\tself.props.updateSearchResults([]);\r\n\t\treturn;\r\n\t}\r\n\r\n\tself.socket.emit(\"searchSong\", { songName: value }, (data) => {\r\n\t\tself.props.updateSearchResults(data.searchResults);\r\n\t});\r\n}, 500);\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tmarginBottom: \"10px\",\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: \"2%\",\r\n\t},\r\n});\r\n\r\nclass SongSubmitForm extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tsongName: \"\",\r\n\t\t\tsearchResults: [],\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.socket = this.props.serverConnection;\r\n\t}\r\n\r\n\thandleText = (event) => {\r\n\t\tthis.props.updateSongName(event.target.value);\r\n\t\tsearchForSong(this, event.target.value);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"songSubmitForm\" className={classes.root} elevation={4}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"songSearchField\"\r\n\t\t\t\t\tlabel=\"Enter a Song or Artist Name\"\r\n\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\tvalue={this.props.songName}\r\n\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongName: state.dj.songs.songName,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongName: (data) => {\r\n\t\t\tdispatch(updateSongName(data));\r\n\t\t},\r\n\t\tupdateSearchResults: (data) => {\r\n\t\t\tdispatch(updateSearchResults(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongSubmitForm);\r\n","// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// components:\r\nimport App from \"dj/App.jsx\";\r\n\r\n// redux:\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\n// actions:\r\n\r\n// // redux-saga:\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\n// libs:\r\nimport socketio from \"socket.io-client\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nclass Index extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.serverConnection = socketio(\"https://fosse.co\", {\r\n\t\t\tpath: \"/8001/socket.io\",\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// this.switchTheme(\"dark\");\r\n\t\t// this.switchTheme(\"spotify\");\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering index\");\r\n\r\n\t\treturn (\r\n\t\t\t<App\r\n\t\t\t\t{...this.props}\r\n\t\t\t\tserverConnection={this.serverConnection}\r\n\t\t\t\tsagaMiddleware={this.sagaMiddleware}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Index;\r\n","export function getCookie(name) {\r\n\tlet dc = document.cookie;\r\n\tlet prefix = name + \"=\";\r\n\tlet begin = dc.indexOf(\"; \" + prefix);\r\n\tlet end;\r\n\tif (begin == -1) {\r\n\t\tbegin = dc.indexOf(prefix);\r\n\t\tif (begin !== 0) return null;\r\n\t} else {\r\n\t\tbegin += 2;\r\n\t\tend = document.cookie.indexOf(\";\", begin);\r\n\t\tif (end == -1) {\r\n\t\t\tend = dc.length;\r\n\t\t}\r\n\t}\r\n\t// because unescape has been deprecated, replaced with decodeURI\r\n\t//return unescape(dc.substring(begin + prefix.length, end));\r\n\treturn decodeURI(dc.substring(begin + prefix.length, end));\r\n}\r\n\r\nexport function setCookie(name, value, seconds) {\r\n\tlet expires = \"\";\r\n\tif (seconds) {\r\n\t\tlet date = new Date();\r\n\t\tdate.setTime(date.getTime() + seconds * 1000);\r\n\t\texpires = \"; expires=\" + date.toUTCString();\r\n\t}\r\n\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n}\r\n\r\nexport function clamp(n, min, max) {\r\n\treturn Math.min(Math.max(n, min), max);\r\n}\r\n\r\nexport function round(value, precision) {\r\n\tlet multiplier = Math.pow(10, precision || 0);\r\n\treturn Math.round(value * multiplier) / multiplier;\r\n}\r\n\r\nexport function msToTime(duration) {\r\n\t// \tvar milliseconds = parseInt((duration % 1000) / 100);\r\n\tlet milliseconds = parseInt((((duration / 1000) % 60) % 1) * 1000);\r\n\tlet seconds = parseInt((duration / 1000) % 60);\r\n\tlet minutes = parseInt((duration / (1000 * 60)) % 60);\r\n\tlet hours = parseInt((duration / (1000 * 60 * 60)) % 24);\r\n\thours = hours < 10 ? \"0\" + hours : hours;\r\n\tif (hours.length == 2 || (hours.length == 3 && hours[0] == \"0\")) {\r\n\t\thours = hours.substr(1);\r\n\t}\r\n\tminutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n\tif (minutes.length == 3 || minutes.length == 4) {\r\n\t\tminutes = minutes.substr(1);\r\n\t}\r\n\tseconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\tif (seconds.length == 3 || seconds.length == 4) {\r\n\t\tseconds = seconds.substr(1);\r\n\t}\r\n\t//seconds = seconds.replaceAll(\"-\", \"\");\r\n\tif (seconds.length < 2) {\r\n\t\tseconds = \"0\" + seconds;\r\n\t}\r\n\tlet time = hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\r\n\ttime = time.replaceAll(\"-\", \"\"); // remove negative signs\r\n\treturn time;\r\n}\r\n\r\nexport function toggleFullscreen(elem) {\r\n\t// ## The below if statement seems to work better ## if ((document.fullScreenElement && document.fullScreenElement !== null) || (document.msfullscreenElement && document.msfullscreenElement !== null) || (!document.mozFullScreen && !document.webkitIsFullScreen)) {\r\n\tif (\r\n\t\t(document.fullScreenElement !== undefined && document.fullScreenElement === null) ||\r\n\t\t(document.msFullscreenElement !== undefined &&\r\n\t\t\tdocument.msFullscreenElement === null) ||\r\n\t\t(document.mozFullScreen !== undefined && !document.mozFullScreen) ||\r\n\t\t(document.webkitIsFullScreen !== undefined && !document.webkitIsFullScreen)\r\n\t) {\r\n\t\tif (elem.requestFullScreen) {\r\n\t\t\telem.requestFullScreen();\r\n\t\t} else if (elem.mozRequestFullScreen) {\r\n\t\t\telem.mozRequestFullScreen();\r\n\t\t} else if (elem.webkitRequestFullScreen) {\r\n\t\t\telem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\r\n\t\t} else if (elem.msRequestFullscreen) {\r\n\t\t\telem.msRequestFullscreen();\r\n\t\t}\r\n\t} else {\r\n\t\tif (document.cancelFullScreen) {\r\n\t\t\tdocument.cancelFullScreen();\r\n\t\t} else if (document.mozCancelFullScreen) {\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\t} else if (document.webkitCancelFullScreen) {\r\n\t\t\tdocument.webkitCancelFullScreen();\r\n\t\t} else if (document.msExitFullscreen) {\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setToPercentParent(elem, percent) {\r\n\t$(elem).height(0);\r\n\tlet parentHeight = $(elem)\r\n\t\t.parent()\r\n\t\t.height();\r\n\tlet newHeight = (percent / 100) * parentHeight;\r\n\t$(elem).height(newHeight);\r\n}\r\n\r\n// like sleep, but worse:\r\nexport function wait(ms) {\r\n\tvar start = new Date().getTime();\r\n\tvar end = start;\r\n\twhile (end < start + ms) {\r\n\t\tend = new Date().getTime();\r\n\t}\r\n}\r\n\r\n// brings number closer to target by accel\r\nexport function mathZoom(current, target, accel) {\r\n\tif (current == target) {\r\n\t\treturn current;\r\n\t}\r\n\tif (Math.abs(current - target) < accel) {\r\n\t\treturn target;\r\n\t}\r\n\tif (current < target) {\r\n\t\treturn current + accel;\r\n\t} else {\r\n\t\treturn current - accel;\r\n\t}\r\n}\r\n\r\nexport function normalizeVector(vector, scale) {\r\n\tlet norm = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\r\n\tif (norm !== 0) {\r\n\t\tvector.x = (scale * vector.x) / norm;\r\n\t\tvector.y = (scale * vector.y) / norm;\r\n\t}\r\n\treturn vector;\r\n}\r\n\r\nexport function abs(n) {\r\n\treturn Math.abs(n);\r\n}\r\n\r\n// delete all cookies:\r\nexport function deleteAllCookies() {\r\n\tlet cookies = document.cookie.split(\";\");\r\n\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\tlet cookie = cookies[i];\r\n\t\tlet eqPos = cookie.indexOf(\"=\");\r\n\t\tlet name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n\t\tdocument.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n\t}\r\n}\r\n\r\nexport function fixedLengthString(string, pad, length) {\r\n\tstring = string + \"\";\r\n\twhile (string.length < length) {\r\n\t\tstring = pad + string;\r\n\t}\r\n\treturn string;\r\n}\r\n\r\nexport function getStickString(num) {\r\n\t// round to nearest tenth:\r\n\tnum = (Math.round((num + 1) * 10) / 10).toFixed(2);\r\n\tlet n = num * 10;\r\n\tif (n == 0) {\r\n\t\treturn \"900\";\r\n\t}\r\n\tif (n == 10) {\r\n\t\treturn \"090\";\r\n\t}\r\n\tif (n == 20) {\r\n\t\treturn \"009\";\r\n\t}\r\n\tif (n < 10) {\r\n\t\tn = 10 - n;\r\n\t\tn = 90 + 90 * n;\r\n\t} else {\r\n\t\tn = (20 - n) * 9;\r\n\t}\r\n\treturn String(n).padStart(3, \"0\");\r\n}\r\n\r\nexport function getAverage(array) {\r\n\treturn array.reduce((a, b) => a + b) / array.length;\r\n}\r\n\r\nexport function pick(...props) {\r\n\treturn (o) => props.reduce((a, e) => ({ ...a, [e]: o[e] }), {});\r\n}\r\n\r\nexport function interpolateColor(color1, color2, factor) {\r\n\tif (arguments.length < 3) {\r\n\t\tfactor = 0.5;\r\n\t}\r\n\tlet result = color1.slice();\r\n\tfor (let i = 0; i < 3; i++) {\r\n\t\tresult[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\r\n\t}\r\n\treturn result;\r\n}\r\n// My function to interpolate between two colors completely, returning an array\r\nexport function interpolateColors(color1, color2, steps) {\r\n\tlet stepFactor = 1 / (steps - 1),\r\n\t\tinterpolatedColorArray = [];\r\n\r\n\tcolor1 = color1.match(/\\d+/g).map(Number);\r\n\tcolor2 = color2.match(/\\d+/g).map(Number);\r\n\r\n\tfor (let i = 0; i < steps; i++) {\r\n\t\tinterpolatedColorArray.push(interpolateColor(color1, color2, stepFactor * i));\r\n\t}\r\n\r\n\treturn interpolatedColorArray;\r\n}\r\n\r\n// String.prototype.replaceAll = function(search, replacement) {\r\n// \tlet target = this;\r\n// \treturn target.replace(new RegExp(search, \"g\"), replacement);\r\n// };\r\n\r\n// $.fn.sumHeights = function() {\r\n// \tlet h = 0;\r\n// \tthis.each(function() {\r\n// \t\th += $(this).outerHeight();\r\n// \t});\r\n// \treturn h;\r\n// };\r\n// $.fn.addUp = function(getter) {\r\n// \treturn Array.prototype.reduce.call(this, function(a, b) {\r\n// \t\treturn a + getter.call($(b));\r\n// \t}, 0);\r\n// }\r\n\r\nexport const size = {\r\n\tmobile: \"600px\",\r\n\ttablet: \"768px\",\r\n\tlaptop: \"1024px\",\r\n\tdesktop: \"1440px\",\r\n};\r\n\r\nexport const device = {\r\n\tmobile: `@media (min-width: ${size.mobile})`,\r\n\ttablet: `@media (min-width: ${size.tablet})`,\r\n\tlaptop: `@media (min-width: ${size.laptop})`,\r\n\tdesktop: `@media (min-width: ${size.desktop})`,\r\n};\r\n","/* (ignored) */"],"sourceRoot":""}