{"version":3,"sources":["webpack:///./src/dj/App.jsx","webpack:///./src/dj/Index.jsx","webpack:///./src/dj/Main.jsx","webpack:///./src/dj/Room.jsx","webpack:///./src/dj/components/general/Song.jsx","webpack:///./src/dj/components/general/SongList.jsx","webpack:///./src/dj/components/general/SongPreview.jsx","webpack:///./src/dj/components/general/SongSubmitForm.jsx","webpack:///./src/shared/libs/utils.js","webpack:///ws (ignored)"],"names":["styles","root","display","justifyContent","height","device","tablet","laptop","App","Component","constructor","props","socket","state","roomName","open","componentDidMount","serverConnection","close","store","dispatch","updateSettings","theme","render","console","log","classes","match","path","mapStateToProps","mapDispatchToProps","compose","withRouter","withStyles","connect","IP","PORT","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","Index","socketio","transports","shouldComponentUpdate","nextProps","nextState","sagaMiddleware","flexDirection","width","maxWidth","maxHeight","margin","textField","formPart","centerText","joinButton","whiteSpace","Main","PureComponent","history","push","emit","data","success","setState","alert","reason","event","target","value","textAlign","handleText","handleJoin","key","handleCreate","handleClose","localforage","fontSize","exportButton","marginTop","Room","username","openUsernameDialog","setItem","location","reload","then","href","code","loggedIn","params","on","updateSongList","songList","getItem","clear","catch","error","componentWillUnmount","searchResults","length","handleLogin","handleCreatePlaylist","handleSubmitUsername","dj","songs","minHeight","upvoteArea","songUpvotes","alignSelf","position","albumArt","highlighted","backgroundColor","songName","icon","songSuggester","removeArea","submitButton","marginLeft","marginRight","marginBottom","Song","songData","updateSongName","updateSearchResults","upvoteState","neutralVote","type","isMobile","innerWidth","albumImage","album","images","buttonSize","isResult","url","preview_url","artists","name","handleSubmitSong","votes","i","vote","handleUpvote","classNames","upvotes","handleDownvote","minWidth","flex","handleRemove","forwardRef","gridGap","padding","overflowY","overflowX","noSongs","SongList","handleClick","mapSongs","source","song","map","uri","cursor","pointerEvents","opacity","left","top","SongPreview","playing","audio","pause","currentTime","audioURL","Audio","volume","play","componentDidUpdate","prevProps","imageURL","throttle","func","wait","options","context","args","result","timeout","previous","later","leading","Date","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","searchForSong","self","SongSubmitForm","getCookie","dc","document","cookie","prefix","begin","indexOf","end","decodeURI","substring","setCookie","seconds","expires","date","setTime","getTime","toUTCString","clamp","n","min","max","Math","round","precision","multiplier","pow","msToTime","duration","milliseconds","parseInt","minutes","hours","substr","time","replaceAll","toggleFullscreen","elem","fullScreenElement","undefined","msFullscreenElement","mozFullScreen","webkitIsFullScreen","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","setToPercentParent","percent","$","parentHeight","parent","newHeight","ms","start","mathZoom","current","accel","abs","normalizeVector","vector","scale","norm","sqrt","x","y","deleteAllCookies","cookies","split","eqPos","fixedLengthString","string","pad","getStickString","num","toFixed","String","padStart","getAverage","array","reduce","a","b","pick","o","e","interpolateColor","color1","color2","factor","slice","interpolateColors","steps","stepFactor","interpolatedColorArray","Number","size","mobile","desktop"],"mappings":"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","file":"6.bundle.js","sourcesContent":["// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// react-router:\r\nimport { Route, Switch, withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"main/features/settings.js\";\r\n\r\n// redux-saga:\r\n\r\n// main components:\r\nimport Main from \"./Main.jsx\";\r\nimport Room from \"./Room.jsx\";\r\n\r\n// components:\r\n\r\n// secondary components:\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n};\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\troomName: \"\",\r\n\t\t\topen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.serverConnection) {\r\n\t\t\tthis.serverConnection.close();\r\n\t\t\tthis.serverConnection = null;\r\n\t\t}\r\n\t\tthis.serverConnection = this.props.serverConnection;\r\n\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"spotify\" }));\r\n\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering app.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath={`${this.props.match.path}/:roomName`}\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Room\r\n\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\tstore={this.props.store}\r\n\t\t\t\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\t\t\t\t// sagaMiddleware={this.props.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath={this.props.match.path}\r\n\t\t\t\t\t\trender={(props) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Main\r\n\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\tstore={this.props.store}\r\n\t\t\t\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\t\t\t\t// sagaMiddleware={this.props.sagaMiddleware}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(App);\r\n","const IP = \"https://fosse.co\";\r\nconst PORT = 8001;\r\n// react:\r\nimport React, { Component } from \"react\";\r\n\r\n// components:\r\nimport App from \"./App.jsx\";\r\n\r\n// redux:\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\n// actions:\r\n\r\n// // redux-saga:\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\n// libs:\r\nimport socketio from \"socket.io-client\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nclass Index extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.serverConnection = socketio(IP, {\r\n\t\t\tpath: `/${PORT}/socket.io`,\r\n\t\t\ttransports: [\"polling\", \"websocket\", \"xhr-polling\", \"jsonp-polling\"],\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// this.switchTheme(\"dark\");\r\n\t\t// this.switchTheme(\"spotify\");\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering index\");\r\n\r\n\t\treturn (\r\n\t\t\t<App\r\n\t\t\t\t{...this.props}\r\n\t\t\t\tserverConnection={this.serverConnection}\r\n\t\t\t\tsagaMiddleware={this.sagaMiddleware}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Index;\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// actions:\r\nimport { updateSettings } from \"main/features/settings.js\";\r\n\r\n// redux-saga:\r\n\r\n// main components:\r\n\r\n// components:\r\n\r\n// secondary components:\r\nimport {\r\n\tButton,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from \"@material-ui/core\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\theight: \"100vh\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"600px\",\r\n\t\tmaxHeight: \"700px\",\r\n\t\tmargin: \"auto 0\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {\r\n\t\t\tmaxWidth: \"none\",\r\n\t\t\tmaxHeight: \"none\",\r\n\t\t},\r\n\t},\r\n\r\n\ttextField: {\r\n\t\tmargin: \"0px\",\r\n\t},\r\n\tformPart: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\t// justifyContent: \"space-evenly\",\r\n\t\tjustifyContent: \"center\",\r\n\t\t// width: \"50%\",\r\n\t\theight: \"min-content\",\r\n\t\t// padding: \"0 20%\",\r\n\t\t// margin: \"0 5px\",\r\n\t},\r\n\tcenterText: {\r\n\t\tdisplay: \"flex !important\",\r\n\t\tjustifyContent: \"center !important\",\r\n\t},\r\n\tjoinButton: {\r\n\t\twhiteSpace: \"nowrap\",\r\n\t},\r\n};\r\n\r\nclass Main extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\troomName: \"\",\r\n\t\t\topen: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.socket) {\r\n\t\t\tthis.socket.close();\r\n\t\t\tthis.socket = null;\r\n\t\t}\r\n\t\tthis.socket = this.props.serverConnection;\r\n\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"spotify\" }));\r\n\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis.props.store.dispatch(updateSettings({ theme: \"dark\" }));\r\n\t};\r\n\r\n\thandleJoin = () => {\r\n\t\tthis.props.history.push(`/dj/${this.state.roomName}`);\r\n\t};\r\n\r\n\thandleCreate = () => {\r\n\t\tthis.socket.emit(\"createRoom\", null, (data) => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\tthis.setState({ open: true, roomName: data.roomName });\r\n\t\t\t} else {\r\n\t\t\t\talert(data.reason);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.props.history.push(`/dj/${this.state.roomName}`);\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\thandleText = (event) => {\r\n\t\t// console.log(event.target.value);\r\n\t\tthis.setState({ roomName: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(\"re-rendering main\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<h1 style={{ textAlign: \"center\" }}>Democratic DJ</h1>\r\n\r\n\t\t\t\t<h2 className={classes.centerText}>Join a Room</h2>\r\n\t\t\t\t<div className={classes.formPart}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"outlined-name\"\r\n\t\t\t\t\t\tlabel=\"Room Name\"\r\n\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\tvalue={this.state.roomName}\r\n\t\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"10px\" }} />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.joinButton}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\tonClick={this.handleJoin}\r\n\t\t\t\t\t\tonKeyPress={(event) => {\r\n\t\t\t\t\t\t\tif (event.key == \"Enter\") {\r\n\t\t\t\t\t\t\t\tthis.handleJoin();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tJoin Room\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 className={classes.centerText}>OR</h2>\r\n\t\t\t\t<div className={classes.formPart}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tonClick={this.handleCreate}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate A Room\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Room Created!\"}</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t\tA room has been created with the room name {this.state.roomName}\r\n\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\" variant=\"contained\">\r\n\t\t\t\t\t\t\tOK\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Main);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// react-router:\r\nimport { withRouter } from \"react-router\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// redux-saga:\r\nimport { updateSongList } from \"dj/features/songs.js\";\r\n\r\n// main components:\r\n\r\n// components:\r\nimport SongList from \"dj/components/general/SongList.jsx\";\r\nimport SongSubmitForm from \"dj/components/general/SongSubmitForm.jsx\";\r\n\r\n// secondary components:\r\nimport {\r\n\tButton,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n} from \"@material-ui/core\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport localforage from \"localforage\";\r\n\r\nwindow.localforage = localforage;\r\n\r\n// jss:\r\nconst styles = {\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\t// justifyContent: \"space-between\",\r\n\t\tfontSize: \"16px\",\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"600px\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\r\n\ttextField: {\r\n\t\tmargin: \"0px\",\r\n\t},\r\n\tformPart: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t// width: \"50%\",\r\n\t\theight: \"min-content\",\r\n\t},\r\n\texportButton: {\r\n\t\tmarginTop: \"10px\",\r\n\t},\r\n};\r\n\r\nclass Room extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: \"\",\r\n\t\t\troomName: \"\",\r\n\t\t\topenUsernameDialog: false,\r\n\t\t\tloggedIn: false,\r\n\t\t\tcode: null,\r\n\t\t};\r\n\r\n\t\tthis.roomName = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// // listen to events and dispatch actions:\r\n\t\t// handleStreamEvents(this.socket, this.props.store.dispatch);\r\n\t\t// // handle outgoing events & listen to actions:\r\n\t\t// // and maybe dispatch more actions:\r\n\t\t// this.props.sagaMiddleware.run(handleStreamActions, {\r\n\t\t// \tsocket: this.socket,\r\n\t\t// \tdispatch: this.props.store.dispatch,\r\n\t\t// });\r\n\r\n\t\tthis.socket = this.props.serverConnection;\r\n\r\n\t\tthis.roomName = this.props.match.params.roomName;\r\n\r\n\t\tif (!this.roomName) {\r\n\t\t\tconsole.log(\"room name not set!\");\r\n\t\t}\r\n\r\n\t\tthis.socket.on(\"songList\", (data) => {\r\n\t\t\tthis.props.updateSongList(data.songList);\r\n\t\t});\r\n\r\n\t\tlocalforage\r\n\t\t\t.getItem(\"dj:roomInfo\")\r\n\t\t\t.then((value) => {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tif (value.username) {\r\n\t\t\t\t\t\tthis.socket.emit(\r\n\t\t\t\t\t\t\t\"joinRoom\",\r\n\t\t\t\t\t\t\t{ roomName: this.roomName, username: value.username },\r\n\t\t\t\t\t\t\t(data) => {\r\n\t\t\t\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\t\t\t\tif (value.code) {\r\n\t\t\t\t\t\t\t\t\t\tthis.socket.emit(\"verifyToken\", { code: value.code }, (data) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topenUsernameDialog: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tusername: value.username,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tloggedIn: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcode: value.code,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(data.reason);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topenUsernameDialog: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tusername: value.username,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.setState({ username: value.username });\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ openUsernameDialog: true });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalforage.clear();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({ openUsernameDialog: true });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ openUsernameDialog: true });\r\n\t\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t// \treturn false;\r\n\t// }\r\n\r\n\thandleSubmitUsername = () => {\r\n\t\tif (this.state.username === \"\") {\r\n\t\t\talert(\"username can't be empty\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.socket.emit(\r\n\t\t\t\"joinRoom\",\r\n\t\t\t{ roomName: this.roomName, username: this.state.username },\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\tthis.setState({ openUsernameDialog: false });\r\n\t\t\t\t\tlocalforage.setItem(\"dj:roomInfo\", {\r\n\t\t\t\t\t\troomName: this.roomName,\r\n\t\t\t\t\t\tusername: this.state.username,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleText = (event) => {\r\n\t\tthis.setState({ username: event.target.value });\r\n\t};\r\n\r\n\thandleLogin = () => {\r\n\t\tif (this.state.username === \"\") {\r\n\t\t\talert(\"something went wrong!\");\r\n\t\t\twindow.location.reload();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlocalforage\r\n\t\t\t.setItem(\"dj:roomInfo\", { roomName: this.roomName, username: this.state.username })\r\n\t\t\t.then(() => {\r\n\t\t\t\twindow.location.href =\r\n\t\t\t\t\t\"https://accounts.spotify.com/authorize?response_type=code&client_id=501dbd9176ef4ef9af88bfedf7cb7e5a&scope=playlist-modify-private%20user-read-private%20user-read-email%20playlist-read-collaborative%20user-modify-playback-state%20playlist-modify-public%20playlist-read-private&redirect_uri=https%3A%2F%2Ffosse.co%2Fcallback\";\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleLogout = () => {};\r\n\r\n\thandleCreatePlaylist = () => {\r\n\t\tthis.socket.emit(\"createPlaylist\", { code: this.state.code }, (data) => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\talert(\"playlist created on your spotify account!\");\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(data.reason);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconsole.log(\"rendering dj-room.\");\r\n\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<SongSubmitForm serverConnection={this.props.serverConnection} />\r\n\t\t\t\t{this.props.searchResults.length > 0 && (\r\n\t\t\t\t\t<SongList\r\n\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\tsource={this.props.searchResults}\r\n\t\t\t\t\t\ttype=\"results\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.props.searchResults.length === 0 && (\r\n\t\t\t\t\t<SongList\r\n\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\tusername={this.state.username}\r\n\t\t\t\t\t\tsource={this.props.songList}\r\n\t\t\t\t\t\ttype=\"songs\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!this.state.loggedIn ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.exportButton}\r\n\t\t\t\t\t\tonClick={this.handleLogin}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin to Spotify\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.exportButton}\r\n\t\t\t\t\t\tonClick={this.handleCreatePlaylist}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tExport to Spotify\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.state.openUsernameDialog}\r\n\t\t\t\t\tonClose={() => {}}\r\n\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">Pick a username</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\ttype=\"username\"\r\n\t\t\t\t\t\t\tvalue={this.state.username}\r\n\t\t\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\t\t\tonKeyPress={(event) => {\r\n\t\t\t\t\t\t\t\tif (event.key == \"Enter\") {\r\n\t\t\t\t\t\t\t\t\tthis.handleSubmitUsername();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.handleSubmitUsername}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongList: state.dj.songs.songList,\r\n\t\tsearchResults: state.dj.songs.searchResults,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongList: (data) => {\r\n\t\t\tdispatch(updateSongList(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithRouter,\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(Room);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\n// components:\r\nimport { IconButton, Paper, Button } from \"@material-ui/core\";\r\nimport SongPreview from \"./SongPreview.jsx\";\r\n\r\n// icons:\r\nimport {\r\n\tArrowUpward as ArrowUpwardIcon,\r\n\tArrowDownward as ArrowDownwardIcon,\r\n\tClose as CloseIcon,\r\n} from \"@material-ui/icons\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateSongName, updateSearchResults } from \"dj/features/songs.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\nimport classNames from \"classnames\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tminHeight: \"75px\",\r\n\t\tfontSize: \"16px\",\r\n\t},\r\n\tupvoteArea: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tmargin: \"0 5px\",\r\n\t},\r\n\tsongUpvotes: {\r\n\t\talignSelf: \"center\",\r\n\t\tposition: \"absolute\",\r\n\t\tfontSize: \"0.8em\",\r\n\t},\r\n\talbumArt: {\r\n\t\talignSelf: \"center\",\r\n\t\twidth: \"75px\",\r\n\t\theight: \"auto\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tminHeight: \"150px\",\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t\talbumArt: {\r\n\t\t\twidth: \"150px\",\r\n\t\t},\r\n\t\tupvoteArea: {\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t},\r\n\t\tsongUpvotes: {\r\n\t\t\tposition: \"relative\",\r\n\t\t\tfontSize: \"1em\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n\thighlighted: {\r\n\t\tbackgroundColor: \"#FAFAD2AA\",\r\n\t},\r\n\tsongName: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\t\"& span:last-child\": {\r\n\t\t\tfontSize: \"0.8em\",\r\n\t\t},\r\n\t},\r\n\ticon: {\r\n\t\t// width: \"70px\",\r\n\t\t// height: \"70px\",\r\n\t},\r\n\r\n\tsongSuggester: {\r\n\t\t// marginLeft: \"auto\",\r\n\t\t// marginRight: \"20px\",\r\n\t\tfontSize: \"0.8em\",\r\n\t\t// alignSelf: \"center\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\ttextAlign: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\twhiteSpace: \"nowrap\",\r\n\t},\r\n\tremoveArea: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t},\r\n\tsubmitButton: {\r\n\t\tmarginLeft: \"auto\",\r\n\t\tmarginRight: \"10px\",\r\n\t\tmarginTop: \"auto\",\r\n\t\tmarginBottom: \"auto\",\r\n\t},\r\n});\r\n\r\nclass Song extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.upvoteState = 0;\r\n\t}\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// this.setState({ upvoteState: 0 });\r\n\t}\r\n\r\n\thandleSubmitSong = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"submitSong\",\r\n\t\t\t{\r\n\t\t\t\tsongData: this.props.songData,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (!data.success) {\r\n\t\t\t\t\talert(data.reason);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t\tthis.props.updateSongName(\"\");\r\n\t\tthis.props.updateSearchResults([]);\r\n\t};\r\n\r\n\thandleUpvote = () => {\r\n\t\tif (this.upvoteState === 1) {\r\n\t\t\tthis.neutralVote();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"up\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleDownvote = () => {\r\n\t\tif (this.upvoteState === -1) {\r\n\t\t\tthis.neutralVote();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"down\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = -1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\tneutralVote = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"vote\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t\ttype: \"neutral\",\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t\t// this.upvoteState = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\thandleRemove = () => {\r\n\t\tthis.props.serverConnection.emit(\r\n\t\t\t\"removeSong\",\r\n\t\t\t{\r\n\t\t\t\tsongName: this.props.songData.songName,\r\n\t\t\t},\r\n\t\t\t(data) => {\r\n\t\t\t\tif (data.success) {\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tlet isMobile = window.innerWidth < 768;\r\n\t\tlet albumImage = this.props.songData.album.images[isMobile ? 2 : 1];\r\n\t\tlet buttonSize = isMobile ? \"small\" : \"medium\";\r\n\r\n\t\tif (this.props.isResult) {\r\n\t\t\treturn (\r\n\t\t\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t\t\t<SongPreview\r\n\t\t\t\t\t\timageURL={albumImage.url}\r\n\t\t\t\t\t\taudioURL={this.props.songData.preview_url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"20px\" }}></div>\r\n\t\t\t\t\t<div className={classes.songName}>\r\n\t\t\t\t\t\t<span>{this.props.songData.songName}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.album.artists[0].name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={classes.submitButton}\r\n\t\t\t\t\t\tonClick={this.handleSubmitSong}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tlet votes = this.props.songData.votes;\r\n\t\t\tfor (let i = 0; i < votes.length; i++) {\r\n\t\t\t\tlet vote = votes[i];\r\n\t\t\t\tif (vote.username === this.props.username) {\r\n\t\t\t\t\tif (vote.type === \"up\") {\r\n\t\t\t\t\t\tthis.upvoteState = 1;\r\n\t\t\t\t\t} else if (vote.type === \"down\") {\r\n\t\t\t\t\t\tthis.upvoteState = -1;\r\n\t\t\t\t\t} else if (vote.type === \"neutral\") {\r\n\t\t\t\t\t\tthis.upvoteState = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<Paper className={classes.root} elevation={4}>\r\n\t\t\t\t\t<div className={classes.upvoteArea}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize={buttonSize}\r\n\t\t\t\t\t\t\tonClick={this.handleUpvote}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\tthis.upvoteState === 1 && classes.highlighted,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<div className={classes.songUpvotes}>{this.props.songData.upvotes}</div>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tsize={buttonSize}\r\n\t\t\t\t\t\t\tonClick={this.handleDownvote}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\tthis.upvoteState === -1 && classes.highlighted,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<SongPreview\r\n\t\t\t\t\t\timageURL={albumImage.url}\r\n\t\t\t\t\t\taudioURL={this.props.songData.preview_url}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div style={{ width: \"20px\" }}></div>\r\n\r\n\t\t\t\t\t<div className={classes.songName}>\r\n\t\t\t\t\t\t<span>{this.props.songData.songName}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.album.artists[0].name}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ minWidth: \"10px\", flex: \"1\" }}></div>\r\n\t\t\t\t\t<div className={classes.songSuggester}>\r\n\t\t\t\t\t\t<span>{\"suggested by: \"}</span>\r\n\t\t\t\t\t\t<span>{this.props.songData.username}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ width: \"10px\" }}></div>\r\n\r\n\t\t\t\t\t{this.props.songData.username === this.props.username && (\r\n\t\t\t\t\t\t<div className={classes.removeArea}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleRemove}\r\n\t\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\t\tclasses.icon,\r\n\t\t\t\t\t\t\t\t\tthis.upvoteState === -1 && classes.highlighted,\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongName: (data) => {\r\n\t\t\tdispatch(updateSongName(data));\r\n\t\t},\r\n\t\tupdateSearchResults: (data) => {\r\n\t\t\tdispatch(updateSearchResults(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true }),\r\n)(Song);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// components:\r\nimport Song from \"./Song.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport FlipMove from \"react-flip-move\";\r\n// import swal from \"sweetalert2\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\t// display: \"flex\",\r\n\t\tdisplay: \"grid\",\r\n\t\tflexDirection: \"column\",\r\n\t\tgridGap: \"5px\",\r\n\t\tpadding: \"10px\",\r\n\t\toverflowY: \"auto\",\r\n\t\toverflowX: \"hidden\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tnoSongs: {\r\n\t\ttextAlign: \"center\",\r\n\t\tmarginTop: \"10px\",\r\n\t},\r\n});\r\n\r\nclass SongList extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// this.handleClick = this.handleClick.bind(this);\r\n\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\thandleClick(event) {}\r\n\r\n\tmapSongs() {\r\n\t\tlet songs = [];\r\n\r\n\t\tfor (let i = 0; i < this.props.source.length; i++) {\r\n\t\t\tlet song = this.props.source[i];\r\n\t\t\tsongs.push(\r\n\t\t\t\t<Song\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\tusername={this.props.username}\r\n\t\t\t\t\tsongData={{ ...song }}\r\n\t\t\t\t\tisResult={this.props.type === \"results\"}\r\n\t\t\t\t/>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (songs.length === 0) {\r\n\t\t\tsongs.push(\r\n\t\t\t\t<div key={0} className={this.props.classes.noSongs}>\r\n\t\t\t\t\t{this.props.type === \"songs\" ? \"No songs submitted yet!\" : \"No Songs Found!\"}\r\n\t\t\t\t</div>,\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn songs;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.props.source.length === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<Paper id=\"songList\" className={classes.root} elevation={4}>\r\n\t\t\t\t\t<div key={0} className={this.props.classes.noSongs}>\r\n\t\t\t\t\t\t{this.props.type === \"songs\" ? \"No songs submitted yet!\" : \"No Songs Found!\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"songList\" className={classes.root} elevation={4}>\r\n\t\t\t\t{/* {this.mapSongs()} */}\r\n\t\t\t\t<FlipMove\r\n\t\t\t\t\ttypeName={null}\r\n\t\t\t\t\tduration={250}\r\n\t\t\t\t\tstaggerDelayBy={0}\r\n\t\t\t\t\tenterAnimation=\"fade\"\r\n\t\t\t\t\tleaveAnimation=\"fade\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.source.map((song) => (\r\n\t\t\t\t\t\t<Song\r\n\t\t\t\t\t\t\tkey={song.uri}\r\n\t\t\t\t\t\t\tserverConnection={this.props.serverConnection}\r\n\t\t\t\t\t\t\tusername={this.props.username}\r\n\t\t\t\t\t\t\tsongData={{ ...song }}\r\n\t\t\t\t\t\t\tisResult={this.props.type === \"results\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</FlipMove>\r\n\t\t\t\t<div style={{ height: \"4px\" }} />\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongList);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n// import ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\n// import ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\n// import CloseIcon from \"@material-ui/icons/Close\";\r\n\r\n// components:\r\n// import { IconButton, Paper, Button } from \"@material-ui/core\";\r\n// import MySlider from \"dj/components/General/MySlider.jsx\";\r\n\r\n// icons:\r\n// import PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\n// import PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport PlayCircleFilledTwoToneIcon from \"@material-ui/icons/PlayCircleFilledTwoTone\";\r\n// import PauseIcon from \"@material-ui/icons/Pause\";\r\n// import PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\r\n// import PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\nimport PauseCircleFilledTwoToneIcon from \"@material-ui/icons/PauseCircleFilledTwoTone\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\nimport { device } from \"shared/libs/utils.js\";\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tminHeight: \"75px\",\r\n\t\tfontSize: \"16px\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\talbumArt: {\r\n\t\talignSelf: \"center\",\r\n\t\twidth: \"75px\",\r\n\t\theight: \"auto\",\r\n\t\tcursor: \"pointer\",\r\n\t},\r\n\ticon: {\r\n\t\tpointerEvents: \"none\",\r\n\t\tfontSize: \"50px\",\r\n\t\topacity: 0.7,\r\n\t\tposition: \"absolute\",\r\n\t\t// left: \"calc(50% - 0.5em)\",\r\n\t\t// top: \"calc(50% - 0.5em)\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginLeft: \"-0.5em\",\r\n\t\ttop: \"50%\",\r\n\t\tmarginTop: \"-0.5em\",\r\n\t},\r\n\t[device.tablet]: {\r\n\t\troot: {\r\n\t\t\tminHeight: \"150px\",\r\n\t\t\tfontSize: \"20px\",\r\n\t\t},\r\n\t\talbumArt: {\r\n\t\t\twidth: \"150px\",\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: \"90px\",\r\n\t\t},\r\n\t},\r\n\t[device.laptop]: {\r\n\t\troot: {},\r\n\t},\r\n});\r\n\r\nclass SongPreview extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tplaying: false,\r\n\t\t};\r\n\r\n\t\tthis.audio = null;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.audioURL) {\r\n\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\tthis.audio.volume = 0.1;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\t// Typical usage (don't forget to compare props):\r\n\t\tif (this.props.audioURL !== prevProps.audioURL) {\r\n\t\t\tif (prevProps.audioURL) {\r\n\t\t\t\tthis.audio.pause();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.props.audioURL) {\r\n\t\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\t\tthis.audio.volume = 0.1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUnmount() {\r\n\t\t// this.setState({ upvoteState: 0 });\r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tif (this.state.playing) {\r\n\t\t\tif (this.audio) {\r\n\t\t\t\tthis.audio.pause();\r\n\t\t\t\tthis.audio.currentTime = 0;\r\n\t\t\t}\r\n\t\t\tthis.setState({ playing: false });\r\n\t\t} else {\r\n\t\t\tif (!this.audio && this.props.audioURL) {\r\n\t\t\t\tthis.audio = new Audio(this.props.audioURL);\r\n\t\t\t\tthis.audio.volume = 0.1;\r\n\t\t\t}\r\n\t\t\tif (this.props.audioURL) {\r\n\t\t\t\tthis.audio.play();\r\n\t\t\t}\r\n\t\t\tthis.setState({ playing: true });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\tif (this.props.audioURL) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.root} onClick={this.handleClick}>\r\n\t\t\t\t\t<img className={classes.albumArt} src={this.props.imageURL} />\r\n\r\n\t\t\t\t\t{this.state.playing ? (\r\n\t\t\t\t\t\t<PauseCircleFilledTwoToneIcon className={classes.icon} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleFilledTwoToneIcon className={classes.icon} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t<img className={classes.albumArt} src={this.props.imageURL} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongPreview);\r\n","// react:\r\nimport React, { PureComponent } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\n// components:\r\n// import SearchResults from \"./SearchResults.jsx\";\r\n\r\n// material ui:\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Paper, TextField } from \"@material-ui/core\";\r\n\r\n// redux:\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updateSongName, updateSearchResults } from \"dj/features/songs.js\";\r\n\r\n// recompose:\r\nimport { compose } from \"recompose\";\r\n\r\n// libs:\r\n// import swal from \"sweetalert2\";\r\n\r\n// Returns a function, that, when invoked, will only be triggered at most once\r\n// during a given window of time. Normally, the throttled function will run\r\n// as much as it can, without ever going more than once per `wait` duration;\r\n// but if you'd like to disable the execution on the leading edge, pass\r\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\r\nfunction throttle(func, wait, options) {\r\n\tlet context, args, result;\r\n\tlet timeout = null;\r\n\tlet previous = 0;\r\n\tif (!options) {\r\n\t\toptions = {};\r\n\t}\r\n\tlet later = () => {\r\n\t\tprevious = options.leading === false ? 0 : Date.now();\r\n\t\ttimeout = null;\r\n\t\tresult = func.apply(context, args);\r\n\t\tif (!timeout) {\r\n\t\t\tcontext = args = null;\r\n\t\t}\r\n\t};\r\n\treturn function() {\r\n\t\tlet now = Date.now();\r\n\t\tif (!previous && options.leading === false) previous = now;\r\n\t\tlet remaining = wait - (now - previous);\r\n\t\tcontext = this;\r\n\t\targs = arguments;\r\n\t\tif (remaining <= 0 || remaining > wait) {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}\r\n\t\t\tprevious = now;\r\n\t\t\tresult = func.apply(context, args);\r\n\t\t\tif (!timeout) context = args = null;\r\n\t\t} else if (!timeout && options.trailing !== false) {\r\n\t\t\ttimeout = setTimeout(later, remaining);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nlet searchForSong = throttle((self, value) => {\r\n\t// moved to debounce fn bc otherwise it can happen out of order:\r\n\tif (value === \"\") {\r\n\t\tself.props.updateSearchResults([]);\r\n\t\treturn;\r\n\t}\r\n\r\n\tself.socket.emit(\"searchSong\", { songName: value }, (data) => {\r\n\t\tself.props.updateSearchResults(data.searchResults);\r\n\t});\r\n}, 500);\r\n\r\n// jss:\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"row\",\r\n\t\tmarginBottom: \"10px\",\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: \"2%\",\r\n\t},\r\n});\r\n\r\nclass SongSubmitForm extends PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.socket = null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tsongName: \"\",\r\n\t\t\tsearchResults: [],\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.socket = this.props.serverConnection;\r\n\t}\r\n\r\n\thandleText = (event) => {\r\n\t\tthis.props.updateSongName(event.target.value);\r\n\t\tsearchForSong(this, event.target.value);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Paper id=\"songSubmitForm\" className={classes.root} elevation={4}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tid=\"songSearchField\"\r\n\t\t\t\t\tlabel=\"Enter a Song or Artist Name\"\r\n\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\tvalue={this.props.songName}\r\n\t\t\t\t\tonChange={this.handleText}\r\n\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongName: state.dj.songs.songName,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tupdateSongName: (data) => {\r\n\t\t\tdispatch(updateSongName(data));\r\n\t\t},\r\n\t\tupdateSearchResults: (data) => {\r\n\t\t\tdispatch(updateSearchResults(data));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n)(SongSubmitForm);\r\n","export function getCookie(name) {\r\n\tlet dc = document.cookie;\r\n\tlet prefix = name + \"=\";\r\n\tlet begin = dc.indexOf(\"; \" + prefix);\r\n\tlet end;\r\n\tif (begin == -1) {\r\n\t\tbegin = dc.indexOf(prefix);\r\n\t\tif (begin !== 0) return null;\r\n\t} else {\r\n\t\tbegin += 2;\r\n\t\tend = document.cookie.indexOf(\";\", begin);\r\n\t\tif (end == -1) {\r\n\t\t\tend = dc.length;\r\n\t\t}\r\n\t}\r\n\t// because unescape has been deprecated, replaced with decodeURI\r\n\t//return unescape(dc.substring(begin + prefix.length, end));\r\n\treturn decodeURI(dc.substring(begin + prefix.length, end));\r\n}\r\n\r\nexport function setCookie(name, value, seconds) {\r\n\tlet expires = \"\";\r\n\tif (seconds) {\r\n\t\tlet date = new Date();\r\n\t\tdate.setTime(date.getTime() + seconds * 1000);\r\n\t\texpires = \"; expires=\" + date.toUTCString();\r\n\t}\r\n\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n}\r\n\r\nexport function clamp(n, min, max) {\r\n\treturn Math.min(Math.max(n, min), max);\r\n}\r\n\r\nexport function round(value, precision) {\r\n\tlet multiplier = Math.pow(10, precision || 0);\r\n\treturn Math.round(value * multiplier) / multiplier;\r\n}\r\n\r\nexport function msToTime(duration) {\r\n\t// \tvar milliseconds = parseInt((duration % 1000) / 100);\r\n\tlet milliseconds = parseInt((((duration / 1000) % 60) % 1) * 1000);\r\n\tlet seconds = parseInt((duration / 1000) % 60);\r\n\tlet minutes = parseInt((duration / (1000 * 60)) % 60);\r\n\tlet hours = parseInt((duration / (1000 * 60 * 60)) % 24);\r\n\thours = hours < 10 ? \"0\" + hours : hours;\r\n\tif (hours.length == 2 || (hours.length == 3 && hours[0] == \"0\")) {\r\n\t\thours = hours.substr(1);\r\n\t}\r\n\tminutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n\tif (minutes.length == 3 || minutes.length == 4) {\r\n\t\tminutes = minutes.substr(1);\r\n\t}\r\n\tseconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\tif (seconds.length == 3 || seconds.length == 4) {\r\n\t\tseconds = seconds.substr(1);\r\n\t}\r\n\t//seconds = seconds.replaceAll(\"-\", \"\");\r\n\tif (seconds.length < 2) {\r\n\t\tseconds = \"0\" + seconds;\r\n\t}\r\n\tlet time = hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\r\n\ttime = time.replaceAll(\"-\", \"\"); // remove negative signs\r\n\treturn time;\r\n}\r\n\r\nexport function toggleFullscreen(elem) {\r\n\t// ## The below if statement seems to work better ## if ((document.fullScreenElement && document.fullScreenElement !== null) || (document.msfullscreenElement && document.msfullscreenElement !== null) || (!document.mozFullScreen && !document.webkitIsFullScreen)) {\r\n\tif (\r\n\t\t(document.fullScreenElement !== undefined && document.fullScreenElement === null) ||\r\n\t\t(document.msFullscreenElement !== undefined &&\r\n\t\t\tdocument.msFullscreenElement === null) ||\r\n\t\t(document.mozFullScreen !== undefined && !document.mozFullScreen) ||\r\n\t\t(document.webkitIsFullScreen !== undefined && !document.webkitIsFullScreen)\r\n\t) {\r\n\t\tif (elem.requestFullScreen) {\r\n\t\t\telem.requestFullScreen();\r\n\t\t} else if (elem.mozRequestFullScreen) {\r\n\t\t\telem.mozRequestFullScreen();\r\n\t\t} else if (elem.webkitRequestFullScreen) {\r\n\t\t\telem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\r\n\t\t} else if (elem.msRequestFullscreen) {\r\n\t\t\telem.msRequestFullscreen();\r\n\t\t}\r\n\t} else {\r\n\t\tif (document.cancelFullScreen) {\r\n\t\t\tdocument.cancelFullScreen();\r\n\t\t} else if (document.mozCancelFullScreen) {\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\t} else if (document.webkitCancelFullScreen) {\r\n\t\t\tdocument.webkitCancelFullScreen();\r\n\t\t} else if (document.msExitFullscreen) {\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function setToPercentParent(elem, percent) {\r\n\t$(elem).height(0);\r\n\tlet parentHeight = $(elem)\r\n\t\t.parent()\r\n\t\t.height();\r\n\tlet newHeight = (percent / 100) * parentHeight;\r\n\t$(elem).height(newHeight);\r\n}\r\n\r\n// like sleep, but worse:\r\nexport function wait(ms) {\r\n\tvar start = new Date().getTime();\r\n\tvar end = start;\r\n\twhile (end < start + ms) {\r\n\t\tend = new Date().getTime();\r\n\t}\r\n}\r\n\r\n// brings number closer to target by accel\r\nexport function mathZoom(current, target, accel) {\r\n\tif (current == target) {\r\n\t\treturn current;\r\n\t}\r\n\tif (Math.abs(current - target) < accel) {\r\n\t\treturn target;\r\n\t}\r\n\tif (current < target) {\r\n\t\treturn current + accel;\r\n\t} else {\r\n\t\treturn current - accel;\r\n\t}\r\n}\r\n\r\nexport function normalizeVector(vector, scale) {\r\n\tlet norm = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\r\n\tif (norm !== 0) {\r\n\t\tvector.x = (scale * vector.x) / norm;\r\n\t\tvector.y = (scale * vector.y) / norm;\r\n\t}\r\n\treturn vector;\r\n}\r\n\r\nexport function abs(n) {\r\n\treturn Math.abs(n);\r\n}\r\n\r\n// delete all cookies:\r\nexport function deleteAllCookies() {\r\n\tlet cookies = document.cookie.split(\";\");\r\n\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\tlet cookie = cookies[i];\r\n\t\tlet eqPos = cookie.indexOf(\"=\");\r\n\t\tlet name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n\t\tdocument.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n\t}\r\n}\r\n\r\nexport function fixedLengthString(string, pad, length) {\r\n\tstring = string + \"\";\r\n\twhile (string.length < length) {\r\n\t\tstring = pad + string;\r\n\t}\r\n\treturn string;\r\n}\r\n\r\nexport function getStickString(num) {\r\n\t// round to nearest tenth:\r\n\tnum = (Math.round((num + 1) * 10) / 10).toFixed(2);\r\n\tlet n = num * 10;\r\n\tif (n == 0) {\r\n\t\treturn \"900\";\r\n\t}\r\n\tif (n == 10) {\r\n\t\treturn \"090\";\r\n\t}\r\n\tif (n == 20) {\r\n\t\treturn \"009\";\r\n\t}\r\n\tif (n < 10) {\r\n\t\tn = 10 - n;\r\n\t\tn = 90 + 90 * n;\r\n\t} else {\r\n\t\tn = (20 - n) * 9;\r\n\t}\r\n\treturn String(n).padStart(3, \"0\");\r\n}\r\n\r\nexport function getAverage(array) {\r\n\treturn array.reduce((a, b) => a + b) / array.length;\r\n}\r\n\r\nexport function pick(...props) {\r\n\treturn (o) => props.reduce((a, e) => ({ ...a, [e]: o[e] }), {});\r\n}\r\n\r\nexport function interpolateColor(color1, color2, factor) {\r\n\tif (arguments.length < 3) {\r\n\t\tfactor = 0.5;\r\n\t}\r\n\tlet result = color1.slice();\r\n\tfor (let i = 0; i < 3; i++) {\r\n\t\tresult[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function interpolateColors(color1, color2, steps) {\r\n\tlet stepFactor = 1 / (steps - 1),\r\n\t\tinterpolatedColorArray = [];\r\n\r\n\tcolor1 = color1.match(/\\d+/g).map(Number);\r\n\tcolor2 = color2.match(/\\d+/g).map(Number);\r\n\r\n\tfor (let i = 0; i < steps; i++) {\r\n\t\tinterpolatedColorArray.push(interpolateColor(color1, color2, stepFactor * i));\r\n\t}\r\n\r\n\treturn interpolatedColorArray;\r\n}\r\n\r\nconst size = {\r\n\tmobile: \"600px\",\r\n\ttablet: \"768px\",\r\n\tlaptop: \"1024px\",\r\n\tdesktop: \"1440px\",\r\n};\r\n\r\nexport const device = {\r\n\tmobile: `@media (min-width: ${size.mobile})`,\r\n\ttablet: `@media (min-width: ${size.tablet})`,\r\n\tlaptop: `@media (min-width: ${size.laptop})`,\r\n\tdesktop: `@media (min-width: ${size.desktop})`,\r\n};\r\n","/* (ignored) */"],"sourceRoot":""}